
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>dave^2 = -1</title>
  <meta name="author" content="David Tchepak">

  
  <meta name="description" content="A software development blog by some bloke called Dave.">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://davesquared.net/page/3/index.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!-- MathJax config based on http://docs.mathjax.org/en/latest/config-files.html#the-mml-htmlormml-configuration-file
       (local mathjax derived from https://ro-che.info/articles/2017-04-02-deploying-mathjax) -->
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    config: ["MMLorHTML.js"],
    jax: ["input/MathML","output/HTML-CSS","output/NativeMML"],
    extensions: ["mml2jax.js"],
    "HTML-CSS": {
      availableFonts: ["TeX"],
      imageFont: null
    },
    MathMenu: {
       showRenderer: false,
       showFontMenu: false,
       showLocale: false
    }
  });
  </script>
  <script type="text/javascript" src="/javascripts/mathjax-2.7.0/MathJax.js"></script>
  <link href="http://feeds2.feedburner.com/davesquared" rel="alternate" title="dave^2 = -1" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-2217573-4']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body  class="no-sidebar">
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds2.feedburner.com/davesquared" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<!-- Google CSE Search Box Begins  -->
<form id="searchbox_005697633880271604295:snlx0l0dwf0" action="http://www.google.com/cse" onsubmit="davesquared_submitSearchBoxWidget()">
  <fieldset role="search">
  <input value="005697633880271604295:snlx0l0dwf0" name="cx" type="hidden"/>
  <input value="" name="cof" type="hidden"/>
  <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<!-- Google CSE Search Box Ends -->
<script type="text/javascript">
function davesquared_submitSearchBoxWidget() {
  var searchBox = document.getElementById("searchbox_005697633880271604295:snlx0l0dwf0");
  searchBox.action = "/search";
  searchBox.cof.value="FORID:11";
}
</script>
  
<ul class="main-navigation">
  <li><a href="/" class="siteHome">dave^2 = -1</a></li>
  <li><a href="/archives">Archives</a></li>
  <li><a href="/categories">Categories</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <header role="banner"><hgroup>
  <h1><a href="/">dave^2 = -1</a></h1>
  
    <h2>A software development blog by some bloke called Dave</h2>
  
</hgroup>

</header>
<div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/04/either.html">A hasty introduction to the Either type</a></h1>
    
    
      <p class="meta">
        








  



  

<time datetime="2014-04-03T00:07:00+11:00" pubdate data-updated="true">03 Apr 2014</time> 
      </p>
    
  </header>


  
  
    <div class="entry-content"><p>The <code>Either</code> type, also called <code>Choice</code> in F# parlance, is a way of representing a value that can be either one of two types. This can be extremely useful. For example, retrieving a date of birth from a textbox could be expressed as <code>Either&lt;ParseException, DateTime&gt;</code>. In other words, the result is a value that is either a valid <code>DateTime</code>, or is a <code>ParseException</code>.</p>
<p>Being a hasty introduction this post is not going to do justice to how useful this type is, but hopefully some of its goodness will shine through despite my rambling prose. :)</p>
</div>
    <footer>
      <a rel="full-article" href="/2014/04/either.html">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/03/dotnet-gc-keepalive.html">Stayin&#8217; alive with .NET GC</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2014-03-06T23:50:00+11:00" pubdate data-updated="true">06 Mar 2014</time> 
      </p>
    
  </header>


  
  
    <div class="entry-content"><p>Most of the time .NET GC just works. Occasionally when dealing with things like interop with unmanaged code, things go wrong. Things I learned today from this aforementioned going wrong include:</p>
<ul>
<li>Variable scope can be greater than the lifetime of the object it points to</li>
<li>Mark-and-sweep GC marks objects for survival, not for collection</li>
<li><code>GC.KeepAlive(object)</code> is a no-op</li>
<li>Finalisers from collected objects can break active objects</li>
<li>Use a release configuration build for reproducing GC issues, running without the debugger attached</li>
<li>Non-deterministic finalisation makes me confused</li>
</ul>
<figure>
<img src="/images/2014/one_does_not_simply_gc.jpg" alt="One does not simply reason about .NET Garbage Collection" /><figcaption>One does not simply reason about .NET Garbage Collection</figcaption>
</figure>
</div>
    <footer>
      <a rel="full-article" href="/2014/03/dotnet-gc-keepalive.html">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/02/aristotle-and-parametricity.html">Aristotle and parametricity</a></h1>
    
    
      <p class="meta">
        








  



  

<time datetime="2014-02-18T23:30:00+11:00" pubdate data-updated="true">18 Feb 2014</time> 
      </p>
    
  </header>


  
  
    <div class="entry-content"></div>
    <footer>
      <a rel="full-article" href="/2014/02/aristotle-and-parametricity.html">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/02/splitting-responsibilities.html">Splitting responsibilities by abstracting type details</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2014-02-08T21:57:00+11:00" pubdate data-updated="true">08 Feb 2014</time> 
      </p>
    
  </header>


  
  
    <div class="entry-content"><p>One thing I’ve battled with in my OO, TDD adventures is useless abstractions. I find it very easy to churn out class like the <code>PaddedSingleWidgetList</code> described below in an attempt to follow the Single Responsibility Principle and write testable code, but in doing so I end up with lots of classes that don’t really make much sense in isolation, and that are not inherently reusable. (Just me?)</p>
<p>Instead of my usual approach of splitting a problem in terms of somewhat arbitrarily chosen responsibilities, what if we divided it into the parts that need knowledge of specific types, and the parts that can have the specific types abstracted away?</p>
</div>
    <footer>
      <a rel="full-article" href="/2014/02/splitting-responsibilities.html">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/11/terminal-io-example-in-haskell.html">Terminal IO example in Haskell</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2013-11-11T20:30:00+11:00" pubdate data-updated="true">11 Nov 2013</time> 
      </p>
    
  </header>


  
  
    <div class="entry-content"><p><a href="/2013/11/freedom-from-side-effects-fsharp.html">Last post</a> we looked at using a less general form of the Free monad to purely represent side-effects in F#. Because Haskell supports higher-order polymorphism it makes using this approach much easier. Here is the complete example from that post, rewritten in Haskell:</p>
</div>
    <footer>
      <a rel="full-article" href="/2013/11/terminal-io-example-in-haskell.html">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/11/freedom-from-side-effects-fsharp.html">More freedom from side-effects (F#)</a></h1>
    
    
      <p class="meta">
        








  



  

<time datetime="2013-11-11T20:05:00+11:00" pubdate data-updated="true">11 Nov 2013</time> 
      </p>
    
  </header>


  
  
    <div class="entry-content"><p>Previously we looked at <a href="/2013/04/side-effect-free-csharp.html">using IO without side-effects</a> in C# by deferring the execution of side-effects. Rather than immediately performing IO, we wrapped up side-effecting operations in an <code>IO</code> type and used combinators like <code>Select</code>, <code>Then</code> and <code>SelectMany</code> to work within that type, so we could use <code>IO</code> values without having to give up the <a href="http://davesquared.net/2013/03/reasoning-and-mutability.html">benefits of pure functions</a> by executing the side-effect.</p>
<p>This is a useful technique, but it has the drawback that the <code>IO</code> instances assembled with these combinators are opaque – there is no way for us to inspect them and work out what the represent. We know an <code>IO&lt;String&gt;</code> is some IO operation that will result in a string, but is it <code>readLine</code>, or <code>launchMissilesAndShowStatus</code>?</p>
<p>In this post we’ll look at another way of representing side-effecting (and other) operations that addresses this drawback.</p>
</div>
    <footer>
      <a rel="full-article" href="/2013/11/freedom-from-side-effects-fsharp.html">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/07/string-calc-parsec.html">String calculator with Parsec</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2013-07-31T21:30:00+10:00" pubdate data-updated="true">31 Jul 2013</time> 
      </p>
    
  </header>


  
  
    <div class="entry-content"><blockquote>
<p>“I hope that one day, the business needs a string calculator. Then I can say”This is the moment I trained for my whole life!&#8221;&#8221; – Michael Stum (<span class="citation" data-cites="mstum">@mstum</span>), <a href="https://twitter.com/mstum/status/339793450985746433">tweet</a></p>
</blockquote>
<p>An effective <a href="http://osherove.com/tdd-kata-1/">string calculator</a> is obviously indispensable to any software project. I have <a href="http://davesquared.net/categories/-calculator-tdd/">attempted this before</a>, but one can never be too prepared, and so I thought I’d revisit it. But this time I thought I’d try it using <a href="http://www.haskell.org/haskellwiki/Parsec">Parsec</a>, a parser combinator library for Haskell.</p>
</div>
    <footer>
      <a rel="full-article" href="/2013/07/string-calc-parsec.html">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/06/filterm.html">filterM</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2013-06-04T22:35:00+10:00" pubdate data-updated="true">04 Jun 2013</time> 
      </p>
    
  </header>


  
  
    <div class="entry-content"><p>Here is <code>filter</code> and its monadic cousin <code>filterM</code>:</p>
<div class="bogus-wrapper">
<notextile>
<figure class="code">
<figcaption>
<span></span>
</figcaption>
<div class="highlight">
<pre><code class='haskell'><span></span><span class="nf">filter</span>  <span class="ow">::</span>            <span class="p">(</span><span class="n">a</span> <span class="ow">-&gt;</span>   <span class="kt">Bool</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="ow">-&gt;</span>   <span class="p">[</span><span class="n">a</span><span class="p">]</span>
<span class="nf">filterM</span> <span class="ow">::</span> <span class="kt">Monad</span> <span class="n">m</span> <span class="ow">=&gt;</span> <span class="p">(</span><span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">m</span> <span class="kt">Bool</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="n">m</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span>
</code></pre>
</div>
</figure>
</notextile>
</div>
<p>This is my attempt to understand the relevance of the differences between these two functions. Please leave a comment to let me know about anything I’ve misunderstood. :)</p>
</div>
    <footer>
      <a rel="full-article" href="/2013/06/filterm.html">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/05/why-not-try-fsharp.html">Why not try F#?</a></h1>
    
    
      <p class="meta">
        








  



  

<time datetime="2013-05-26T21:30:00+10:00" pubdate data-updated="true">26 May 2013</time> 
      </p>
    
  </header>


  
  
    <div class="entry-content"><p>I have avoided seriously trying F# for years now, mainly because:</p>
<ul>
<li>F# was described as a “functional programming language”, and I didn’t know FP. I was keen to learn FP, but prioritised learning more about OO design and patterns that seemed more immediately applicable to my everyday work.</li>
<li>The syntax looked really confusing.</li>
<li>Whenever I heard F# mentioned it was in the same breath as “financial data processing” or some other niche area that seemed to have little to do with the types of applications I wrote.</li>
</ul>
<p>I carried these hastily-acquired preconceptions around for years, until this year I needed to do a small application for work, and decided to try it in F#. To my surprise I found that <em>none of these preconceptions were valid</em>! What’s more, I actually quite enjoyed it. F# seemed to let me do everything I would normally do in C#, only with less code, and with more powerful features waiting in the wings should I want to dabble with them.</p>
<p>So in this post I wanted to go through why these assumptions were false, just in case they are holding you back too. I think F# is well worth trying out for every developer that does anything with .NET, but rather than trying to sell you on why you should try F#, I’m going to focus on the reasons you may think that you shouldn’t, and trust your natural developer curiosity to do the rest. ;)</p>
</div>
    <footer>
      <a rel="full-article" href="/2013/05/why-not-try-fsharp.html">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/04/same-input-through-function-list.html">A mad Haskeller runs the same input through a list of functions</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2013-04-10T22:25:00+10:00" pubdate data-updated="true">10 Apr 2013</time> 
      </p>
    
  </header>


  
  
    <div class="entry-content"><p>Last time I donned my <a href="http://davesquared.net/2013/02/from-two-functions-to-tuples.html">mad Haskeller lab coat</a> we ended up using arrows to pipe the output of two functions into a tuple. This time I’m going to look at piping a single input through a list of functions to get a list of output.</p>
<p>The motivation for this experiment was a small section of a code snippet I found in Chris Wilson’s <a href="http://bendyworks.com/geekville/articles/2013/4/from-ruby-to-haskell-part-2-similarity-refactoring-and-patterns">From Ruby to Haskell, Part 2: Similarity, Refactoring, and Patterns</a> post:</p>
<div class="bogus-wrapper">
<notextile>
<figure class="code">
<figcaption>
<span></span>
</figcaption>
<div class="highlight">
<pre><code class='haskell'><span></span><span class="o">...</span> <span class="p">[</span><span class="n">eventDescription</span> <span class="n">e</span><span class="p">,</span> <span class="n">eventName</span> <span class="n">e</span><span class="p">,</span> <span class="n">eventLocation</span> <span class="n">e</span><span class="p">,</span> <span class="n">eventType</span> <span class="n">e</span><span class="p">]</span> <span class="o">...</span>
</code></pre>
</div>
</figure>
</notextile>
</div>
<p>As far as I can tell there’s nothing at all wrong with this. It is creating a list of values by passing <code>e</code> to several functions. It did get me thinking though – do we have to explicitly pass in that <code>e</code> argument to every function? To the laboratory!</p>
<figure>
<img src="/images/2013/standbacktryhaskell.png" title="Stand back, I&#39;m going to try Haskell" alt="With apologies to Randall. Original: xkcd store" /><figcaption>With apologies to Randall. Original: <a href="http://store-xkcd-com.myshopify.com/products/try-science">xkcd store</a></figcaption>
</figure>
</div>
    <footer>
      <a rel="full-article" href="/2013/04/same-input-through-function-list.html">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/4/">&larr; Older</a>
    
    <a href="/archives">Blog Archives</a>
    
    <a class="next" href="/page/2/">Newer &rarr;</a>
    
  </div>
</div>

    </div>
  </div>
  <footer role="contentinfo"><p class="disclaimer">All code and advice is provided without warranty -- use at your own risk! This is just a blog! Don't take it too seriously!<br/>
Despite not being too serious, this blog has a <a href="http://davesquared.net/2007/07/privacy-policy.html">Privacy Policy</a>, because it uses Google Analytics to see if anyone drops by.</p>
<p>
  Copyright &copy; 2022 - David Tchepak -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'https://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
